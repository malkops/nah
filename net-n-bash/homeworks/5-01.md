# Домашнее задание к занятию "5.1 Базовое программирование на Bash. Коды возврата, функции." 
**

**Домашнее задание выполните в Google Docs и отправьте в личном кабинете на проверку ссылку на ваш документ.**

Название файла должно содержать номер лекции и фамилию студента. Пример названия: "5.1 Базовое программирование на Bash. Коды возврата, функции. - Александр Дивеев"

Перед тем как выслать ссылку, убедитесь, что ее содержимое не является приватным (открыто на просмотр всем, у кого есть ссылка). Если необходимо прикрепить дополнительные ссылки, просто добавьте их в свой Google Docs.

Любые вопросы по решению задач задавайте в чате учебной группы.

------
### Задание 1.

Напишите скрипт, который выводит на экран все числа от 1 до 100, которые делятся на 3.

*Пришлите получившийся скрипт в качестве ответа.*
```bash
#!/bin/bash
set -euo pipefail
IFS=$'\n\t'

for i in {1..100}
do
	num=$(($i%3))
	if (($num == 0)); then
		echo $i
	fi;
done
```
------
### Задание 2.

Напишите скрипт, который каждые 5 секунд будет выводить на экран текущее время и содержимое файла `/proc/loadavg`.

*Пришлите получившийся скрипт в качестве ответа.*
```bash
#!/bin/bash
set -euo pipefail
IFS=$'\n\t'

while [[ 1 == 1 ]]
do
	echo $(date +'%H:%M:%S %Z')
	echo $(cat /proc/loadavg)

	sleep 5
done
```
------
### Задание 3.

Напишите функцию для подсчета среднего размера файла в директории. 

 - путь к директории должен передаваться параметром;
 - функция должна проверять, что такая директория существует, после чего выводить на экран средний размер файла в ней;
 - при подсчете необходимо исключить подиректории и символьные ссылки.

*Примечание:* Вывести размер файла можно с помощью `stat -c "%s" filename`.

*Пришлите получившийся код в качестве ответа.*
```bash
#!/bin/bash
set -eou pipefail
IFS=$'\n\t'

avg_size=0

if [[ ! -d $1  ]];
then
	echo '"$1" directory not exist'
	exit 127
fi

for file in $1*; do
	if [[ -f $file && ! -h $file  ]]; then
		avg_size=$(($avg_size+$(stat -c '%s' $file)))
	fi
done

echo "Average file size: $avg_size"
exit 0
```
------
## Дополнительные задания (со звездочкой*)
### Задание 4.

Напишите свой калькулятор.

В нем реализуйте простейшие арифметические операции:  «+»; «-»; «*»; «/».
 
Считывание параметров реализуйте с помощью `read` и `select`.

*Примечение:* постарайтесь максимально защититься от ошибок, т.к. пользователи любят написать строку вместо числа.

*Пришлите получившийся скрипт в качестве ответа.*
```bash
#!/bin/bash
set -eou pipefail
IFS=$'\n\t'

read -p "Enter first number: " num1
if ! [ "$num1" -eq "$num1" ] 2> /dev/null; then
	echo "Not a number"
	exit 1
fi

read -p "Enter second number: " num2
if ! [ "$num2" -eq "$num2" ] 2> /dev/null; then
	echo "Not a number"
	exit 1
fi


select oper in + - / "*"; do
	echo $(($num1 $oper $num2))
	exit 0
done
```
