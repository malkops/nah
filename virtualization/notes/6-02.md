### Виртуализация

**Виртуализация** - это создание изолированных окружений в рамках одного физического устройства. Каждое окружение выглядит, как отдельный компьютер со своими характеристиками. Также окружением называют набор **логических ресурсов** или **виртуальной машиной**. ОС, внутри которой стартует другая ОС, называется **хост-системой**, а ОС, которая работает в виртуальном окружении - **гостевой**.

Виртуализация бывает 4 типов:
 - _Аппаратная;_
 - _Программная;_
 - _Контейнерная;_
 - _Хостинговая;_

**Аппаратная виртуализация** - работает благодаря поддержке со стороны железа: процессора. В отличие от программной виртуализации, гостевые ОС управляются гипервизором напрямую, без участия хостовой ОС.
Из **плюсов**: Работает без посредников, быстро и надежно.
Из **минусов**: Привязана к платформе: нет технологии - нет виртуализации.

**Программная виртуализация** - эмулирует все железо, от процессора до сетевого адаптера. В отличие от аппаратной виртуализации, будет работать на любом железе.
Из **плюсов**: Хост и гостевая системы независимы.
Из **минусов**: Работает медлоенно, так как необходимо эмулировать всё железо.

### Технологии аппаратной виртуализации
 - **Intel** - VT-x, VT-d, VMDQ;
 - **AMD** - AMD-V;
 - **ARM Limited** - EL2.

**KVM** - **Kernel-based Virtual Machine** - базовый гипервизор для ядра Linux, реализует возможность исполнения прямых аппаратных запросов.
Гипервизор KVM представляет из себя загружаемый модуль ядра Linux, который предназначен для обеспечения виртуализации на платформе Linux x86. Сам модуль содержит помпонент виртуализации (**kvm.ko**) и процессорно-специфический загружаемый модуль **kvm-amd.ko/kvm-intel.ko**.
Одним необходимым условием для использования KVM является поддержка одной из инструкций виртуализации - Intel VT-x, AMD-V, ARP-EL2.
Сам по себе KVM не выполняет эмуляции. Вместо этого программа, работающая в пространстве пользователя, использует интерфейс /dev/kvm для настройки адресного пространства гостя виртуальной машины, через него же эмулирует устройства ввода-вывода и видеоадаптер.

### libvirt

**libvirt** - это набор инструментов, предоставляющий единый API ко множеству различных технологий виртуалиции. При использовании libvirt не важно какой гипервизор используется, его можно использовать внутри языков программирования (Ruby, Python, C++) или подключаться к виртуалкам по защищенным каналам. libvirt - это просто API и методы взаимодействия с ним лежит на плечах пользователя.
