## Системы хранения и передачи данных: Кэширование

### Кэширование

**Кэширование** - это способ оптимизации работы приложения, при котором данные временно кладутся в промежуточный буфер с быстрым доступом. Обычно в кэш кладутся данные, к которым чаще всего идет обращение.

Выбор буфера для кэша зависит от решаемой задачи и может быть как памятью сервера, так и файлом, базой данных или любой другой сущьностью, куда можно положить данные.

При работе с кэшом важно учесть:
- Инвалидация - если данные изменяемые, то их надо будет инвалидировать при изменении в источнике.
- TTL - кэш не может жить вечно и нужно быть готовым к тому, что он исчезнет
- Кэшировать данные нужно только при необходимости, так как это усложняет инфраструктуру и эксплуатацию одновременно.

#### Какие проблемы решает кэширование

- **Повышение производительности** - достигается за счет складывания в кэш данных, к которым чаще всего происходит обращение.
- **Уменьшение скорости ответа** - так как скорость работы кэша быстрее выполнения запросов.
- **Экономия ресурсов** базы данных, например кэшируя тяжелые запросы.
- **Сглаживание бустов трафика**. Например, при наплыве клиентов можно отдавать закэшированную страницу.

### Алгоритмы кэширования

#### Самый оптимальный алгоритм

Самая оптимальная стратегия кэширования - это подход, при котором мы кэшируем только то, что будем использовать в будущем и убираем из кэша неиспользуемые данные.
Одднако, этого добиться невозможно.

#### Алгоритмы

**LRU (least recently used)** - это алгоритм, при котором вытесняются значения, которые дольше всего не запрашивались.
**PLRU (pseudo least recently used)** - это улучшенная версия LRU для кэша с большой ассоциативностью. При помощи двоичного дерева для поиска, понимает где самый молодой и старые элементы кжша. Иногда может быть неоптимальным и неверно вытеснять записи.
**LFU (least-frequently used)** - из кэша вытесняются элементы, которые реже всего используются. Данный алгоритм на практике встречается редко, так как может ошибочно вытеснять недавно добавленные элементы.