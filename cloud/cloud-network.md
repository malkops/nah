# Домашнее задание к занятию "15.1. Организация сети"

## Задание 1. Яндекс.Облако (обязательное к выполнению)

1. Создать VPC.
- Создать пустую VPC. Выбрать зону.
2. Публичная подсеть.
- Создать в vpc subnet с названием public, сетью 192.168.10.0/24.
- Создать в этой подсети NAT-инстанс, присвоив ему адрес 192.168.10.254. В качестве image_id использовать fd80mrhj8fl2oe87o4e1
- Создать в этой публичной подсети виртуалку с публичным IP и подключиться к ней, убедиться что есть доступ к интернету.
3. Приватная подсеть.
- Создать в vpc subnet с названием private, сетью 192.168.20.0/24.
- Создать route table. Добавить статический маршрут, направляющий весь исходящий трафик private сети в NAT-инстанс
- Создать в этой приватной подсети виртуалку с внутренним IP, подключиться к ней через виртуалку, созданную ранее и убедиться что есть доступ к интернету

---

Ресурсы создаются из директории [terraform](terraform/), а именно [сеть](terraform/network.tf), [виртуалки](terraform/vpc.tf).

Созданные ресурсы:

![vms](https://github.com/malkops/nah/assets/44001733/470e92bc-9053-4c51-96a9-2df72e82957a)

![net](https://github.com/malkops/nah/assets/44001733/d9bb7d53-8c20-46ee-ad75-adebee5cdbd5)

Доступ в интернет с двух машин:

public:

![vm1](https://github.com/malkops/nah/assets/44001733/d64f91a4-8c6c-46a5-9df0-a4a72d07f878)

private:

![vm2](https://github.com/malkops/nah/assets/44001733/e034d946-2de3-4fd8-84ee-4bd89551dd3f)
